(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1870:function(e,t,r){Promise.resolve().then(r.t.bind(r,3158,23)),Promise.resolve().then(r.bind(r,8726)),Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.bind(r,4882)),Promise.resolve().then(r.bind(r,514)),Promise.resolve().then(r.bind(r,7601)),Promise.resolve().then(r.bind(r,2601)),Promise.resolve().then(r.bind(r,3207)),Promise.resolve().then(r.bind(r,9655))},1492:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(8030).Z)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]])},2022:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(8030).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4882:function(e,t,r){"use strict";r.d(t,{Providers:function(){return k}});var s=r(7437),l=r(1444),a=r(6862);let i=(0,a.oM)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,loading:!1},reducers:{setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1},setLoading:(e,t)=>{e.loading=t.payload}}}),{setCredentials:n,logout:o,setLoading:c}=i.actions;var d=i.reducer,h=r(469);let u=(0,a.oM)({name:"player",initialState:{isPlaying:!1,currentTrack:null,currentTime:0,duration:0,volume:1,tourId:null,currentPointIndex:0},reducers:{play:e=>{e.isPlaying=!0},pause:e=>{e.isPlaying=!1},setCurrentTrack:(e,t)=>{e.currentTrack=t.payload},setCurrentTime:(e,t)=>{e.currentTime=t.payload},setDuration:(e,t)=>{e.duration=t.payload},setVolume:(e,t)=>{e.volume=t.payload},setTourId:(e,t)=>{e.tourId=t.payload},setCurrentPointIndex:(e,t)=>{e.currentPointIndex=t.payload},reset:e=>{e.isPlaying=!1,e.currentTrack=null,e.currentTime=0,e.duration=0,e.currentPointIndex=0}}}),{play:m,pause:x,setCurrentTrack:f,setCurrentTime:p,setDuration:g,setVolume:b,setTourId:y,setCurrentPointIndex:v,reset:j}=u.actions;var w=u.reducer;let N=(0,a.xC)({reducer:{auth:d,tours:h.ZP,player:w}});function k(e){let{children:t}=e;return(0,s.jsx)(l.zt,{store:N,children:t})}},514:function(e,t,r){"use strict";r.d(t,{ErrorBoundary:function(){return i}});var s=r(7437),l=r(2265),a=r(1513);class i extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-primary-cream to-white px-4",children:(0,s.jsxs)(a.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white rounded-3xl shadow-xl p-8 text-center",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Что-то пошло не так"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Произошла непредвиденная ошибка. Мы уже работаем над её исправлением."}),!1,(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsx)(a.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:this.handleReset,className:"px-6 py-3 bg-primary-teal text-white rounded-xl font-medium hover:bg-primary-teal/90 transition-colors",children:"Попробовать снова"}),(0,s.jsx)(a.E.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/",className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"На главную"})]})]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}}},7601:function(e,t,r){"use strict";r.d(t,{default:function(){return l}});var s=r(2265);function l(){return(0,s.useEffect)(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/MestoSlov_MVP_site/sw.js").then(e=>{console.log("Service Worker registered:",e.scope)}).catch(e=>{console.error("Service Worker registration failed:",e)})})},[]),null}},2601:function(e,t,r){"use strict";r.d(t,{default:function(){return l}});var s=r(7437);function l(){return(0,s.jsx)("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary-teal focus:text-white focus:rounded-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary-teal focus:ring-offset-2",children:"Перейти к основному содержимому"})}},1244:function(e,t,r){"use strict";var s=r(7437),l=r(6648),a=r(1513);t.Z=e=>{let{className:t=""}=e;return(0,s.jsx)("div",{className:"flex space-x-3 ".concat(t),children:[{icon:"https://drive.google.com/thumbnail?id=10HEPsP-6gPAP9Y-T7DASQ9ToDcipo9FE&sz=w1000",href:"https://vk.com/mestoslov",label:"VK",color:"#0077FF"},{icon:"https://drive.google.com/thumbnail?id=1-GY9rUh92U2QlVm6-b7SJ1z2GA3i7QfO&sz=w1000",href:"https://t.me/mestoslov",label:"Telegram",color:"#0088CC"},{icon:"https://drive.google.com/thumbnail?id=1Ct18j6EVosMJhbQZjOO71FPkbh6CIBcy&sz=w1000",href:"https://instagram.com/mestoslov",label:"Instagram",color:"#E4405F"},{icon:"https://drive.google.com/thumbnail?id=1zVQ0mINPnGbNJTr3HVHrGo_5pCu1vT-w&sz=w1000",href:"https://facebook.com/mestoslov",label:"Facebook",color:"#1877F2"},{icon:"https://drive.google.com/thumbnail?id=19RvOsHhBd_3lB_rl7IOmQKxXBHn_-9DE&sz=w1000",href:"https://github.com/mestoslov",label:"GitHub",color:"#333333"},{icon:"https://drive.google.com/thumbnail?id=1vOr9coAwb-e8aWRUB-8JSzYghCClLF5z&sz=w1000",href:"mailto:hello@mestoslov.ru",label:"Email",color:"#EA4335"}].map(e=>(0,s.jsx)(a.E.a,{href:e.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-10 h-10 flex items-center justify-center","aria-label":e.label,children:(0,s.jsx)(l.default,{src:e.icon,alt:e.label,width:20,height:20,className:"w-5 h-5"})},e.label))})}},3207:function(e,t,r){"use strict";r.d(t,{default:function(){return h}});var s=r(7437),l=r(7138),a=r(1492),i=r(8030);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),o=(0,i.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var c=r(9321),d=r(1244),h=()=>{let e=[{label:"Условия использования",href:"/terms"},{label:"Политика конфиденциальности",href:"/privacy"}];return(0,s.jsx)("footer",{className:"bg-primary-green text-white pt-16 pb-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 mb-12",children:[(0,s.jsxs)("div",{className:"lg:col-span-1",children:[(0,s.jsxs)(l.default,{href:"/",className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-sunset rounded-full flex items-center justify-center",children:(0,s.jsx)(a.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"text-2xl font-bold",children:"МестоСлов"})]}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"Аутентичная Россия через личные аудиорассказы местных жителей"}),(0,s.jsx)(d.Z,{})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Платформа"}),(0,s.jsx)("ul",{className:"space-y-2",children:[{label:"Как это работает",href:"/how-it-works"},{label:"Стать автором",href:"/author"},{label:"О нас",href:"/about"},{label:"Блог",href:"/blog"}].map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:e.href,className:"text-gray-300 hover:text-white transition-colors",children:e.label})},e.href))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Исследуйте"}),(0,s.jsx)("ul",{className:"space-y-2",children:[{label:"Все экскурсии",href:"/tours"},{label:"Поиск",href:"/search"},{label:"Популярные",href:"/tours?sort=popular"},{label:"Новые",href:"/tours?sort=new"}].map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:e.href,className:"text-gray-300 hover:text-white transition-colors",children:e.label})},e.href))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Поддержка"}),(0,s.jsx)("ul",{className:"space-y-2",children:[{label:"Помощь",href:"/faq"},{label:"FAQ",href:"/faq"},{label:"Контакты",href:"/contact"},{label:"Поддержка",href:"/contact"}].map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:e.href,className:"text-gray-300 hover:text-white transition-colors",children:e.label})},e.href))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Контакты"}),(0,s.jsxs)("ul",{className:"space-y-3",children:[(0,s.jsxs)("li",{className:"flex items-center space-x-2 text-gray-300",children:[(0,s.jsx)(n,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"hello@mestoslov.ru"})]}),(0,s.jsxs)("li",{className:"flex items-center space-x-2 text-gray-300",children:[(0,s.jsx)(o,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"+7 (495) 123-45-67"})]}),(0,s.jsxs)("li",{className:"flex items-center space-x-2 text-gray-300",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Москва, Россия"})]})]})]})]}),(0,s.jsx)("div",{className:"border-t border-white/10 pt-8",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-300",children:e.map((t,r)=>(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(l.default,{href:t.href,className:"hover:text-white transition-colors",children:t.label}),r<e.length-1&&(0,s.jsx)("span",{className:"mx-2",children:"•"})]},t.href))}),(0,s.jsxs)("p",{className:"text-sm text-gray-300",children:["\xa9 ",new Date().getFullYear()," МестоСлов. Все права защищены."]})]})})]})})}},9655:function(e,t,r){"use strict";r.d(t,{default:function(){return b}});var s=r(7437),l=r(2265),a=r(7138),i=r(6463),n=r(1513),o=r(4446),c=r(9321),d=r(8030);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var u=r(2022),m=r(1492),x=r(4817),f=r(4697);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var g=r(1444),b=()=>{let[e,t]=(0,l.useState)(!1),[r,d]=(0,l.useState)(!1),{isAuthenticated:b,user:y}=(0,g.v9)(e=>e.auth),v="/"===(0,i.usePathname)();(0,l.useEffect)(()=>{let e=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let j=[{href:"/tours",label:"Экскурсии",icon:(0,s.jsx)(c.Z,{className:"w-4 h-4"})},{href:"/blog",label:"Блог",icon:(0,s.jsx)(h,{className:"w-4 h-4"})},{href:"/about",label:"О нас",icon:(0,s.jsx)(u.Z,{className:"w-4 h-4"})},{href:"/contact",label:"Контакты",icon:(0,s.jsx)(m.Z,{className:"w-4 h-4"})}],w=()=>e?"text-gray-700":v?"text-white":"text-gray-900";return(0,s.jsxs)(n.E.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(e||!v?"bg-white/95 backdrop-blur-md shadow-lg py-4":"bg-transparent py-6"),children:[(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(a.default,{href:"/",className:"flex items-center space-x-2 group",children:[(0,s.jsx)(n.E.div,{whileHover:{rotate:360},transition:{duration:.6},className:"w-10 h-10 bg-gradient-to-r from-primary-teal to-primary-green rounded-full flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"text-2xl font-bold transition-colors ".concat(e?"text-primary-green":v?"text-white":"text-primary-green"),children:"МестоСлов"})]}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:j.map(e=>(0,s.jsxs)(a.default,{href:e.href,className:"flex items-center space-x-2 font-medium transition-colors hover:text-primary-teal ".concat(w()),children:[e.icon,(0,s.jsx)("span",{children:e.label})]},e.href))}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,s.jsx)(a.default,{href:"/search",children:(0,s.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full transition-colors ".concat(e||!v?"hover:bg-gray-100":"hover:bg-white/20"),children:(0,s.jsx)(x.Z,{className:"w-5 h-5 ".concat(w())})})}),b?(0,s.jsx)(a.default,{href:"/profile",children:(0,s.jsxs)(n.E.div,{whileHover:{scale:1.05},className:"flex items-center space-x-2 px-4 py-2 rounded-full bg-gradient-to-r from-primary-teal to-primary-green text-white shadow-lg",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:null==y?void 0:y.name})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.default,{href:"/login",children:(0,s.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-full font-medium transition-colors ".concat(e||!v?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/20"),children:"Войти"})}),(0,s.jsx)(a.default,{href:"/register",children:(0,s.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 rounded-full bg-gradient-to-r from-primary-teal to-accent-amber text-white font-medium shadow-lg hover:shadow-xl transition-all",children:"Начать"})})]})]}),(0,s.jsx)(n.E.button,{whileTap:{scale:.9},onClick:()=>d(!r),className:"md:hidden p-2 rounded-lg ".concat(w()),children:r?(0,s.jsx)(f.Z,{className:"w-6 h-6"}):(0,s.jsx)(p,{className:"w-6 h-6"})})]})}),(0,s.jsx)(o.M,{children:r&&(0,s.jsx)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white shadow-xl",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[j.map(e=>(0,s.jsxs)(a.default,{href:e.href,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>d(!1),children:[e.icon,(0,s.jsx)("span",{className:"font-medium",children:e.label})]},e.href)),(0,s.jsx)("div",{className:"pt-4 border-t space-y-2",children:!b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.default,{href:"/login",className:"block",children:(0,s.jsx)("button",{className:"w-full px-4 py-3 rounded-lg bg-gray-100 font-medium",children:"Войти"})}),(0,s.jsx)(a.default,{href:"/register",className:"block",children:(0,s.jsx)("button",{className:"w-full px-4 py-3 rounded-lg bg-gradient-sunset text-white font-medium",children:"Начать"})})]})})]})})})]})}},469:function(e,t,r){"use strict";r.d(t,{rr:function(){return i}});let s=(0,r(6862).oM)({name:"tours",initialState:{tours:[],filteredTours:[],selectedTour:null,filters:{city:"",category:"",duration:"",search:"",priceMin:"",priceMax:""},loading:!1},reducers:{setTours:(e,t)=>{e.tours=t.payload,e.filteredTours=t.payload},setSelectedTour:(e,t)=>{e.selectedTour=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},filterTours:e=>{let t=[...e.tours];if(e.filters.city&&(t=t.filter(t=>t.city===e.filters.city)),e.filters.category&&(t=t.filter(t=>t.category===e.filters.category)),e.filters.search){let r=e.filters.search.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(r)||e.description.toLowerCase().includes(r))}e.filteredTours=t},setLoading:(e,t)=>{e.loading=t.payload}}}),{setTours:l,setSelectedTour:a,setFilters:i,filterTours:n,setLoading:o}=s.actions;t.ZP=s.reducer},3054:function(){},3158:function(e){e.exports={style:{fontFamily:"'__Inter_4bf59f', '__Inter_Fallback_4bf59f'",fontStyle:"normal"},className:"__className_4bf59f"}}},function(e){e.O(0,[220,513,231,173,552,726,971,23,744],function(){return e(e.s=1870)}),_N_E=e.O()}]);