(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{213:function(e,a,t){Promise.resolve().then(t.bind(t,482))},933:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1077:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4042:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8094:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},9338:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},3225:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},482:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return E}});var r=t(7437),i=t(2265),l=t(6463),s=t(1513),c=t(4863),n=t(8030);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,n.Z)("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var d=t(9321);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,n.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var p=t(933),m=t(1077),u=t(1444),y=t(469),h=()=>{var e;let a=(0,u.I0)(),{filters:t}=(0,u.v9)(e=>e.tours),i=[{label:"Любая",value:""},{label:"До 1 часа",value:"60"},{label:"1-2 часа",value:"120"},{label:"2-3 часа",value:"180"},{label:"3+ часа",value:"180+"}],l=e=>{a((0,y.rr)({city:"Все города"===e?"":e}))},c=e=>{a((0,y.rr)({category:"Все категории"===e?"":e}))},n=e=>{a((0,y.rr)({duration:e}))},h=(e,t)=>{a((0,y.rr)({priceMin:"0"===e&&"Infinity"===t?"":e,priceMax:"Infinity"===t?"":t}))};return(0,r.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl p-6 shadow-elevation sticky top-24",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o,{className:"w-5 h-5 text-primary-teal"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Фильтры"})]}),(0,r.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{a((0,y.rr)({city:"",category:"",duration:"",search:"",priceMin:"",priceMax:""}))},className:"text-sm text-primary-teal hover:underline",children:"Сбросить"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 text-gray-600"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Город"})]}),(0,r.jsx)("div",{className:"space-y-2",children:["Все города","Москва","Санкт-Петербург","Казань","Екатеринбург","Владивосток","Сочи","Владимир","Нижний Новгород"].map(e=>(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>l(e),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(("Все города"!==e||t.city)&&t.city!==e?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-primary-teal text-white"),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(x,{className:"w-4 h-4 text-gray-600"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Категория"})]}),(0,r.jsx)("div",{className:"space-y-2",children:["Все категории","История","Архитектура","Культура","Природа","Искусство","Гастрономия","Традиции"].map(e=>(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>c(e),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(("Все категории"!==e||t.category)&&t.category!==e?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-primary-teal text-white"),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4 text-gray-600","aria-hidden":"true"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Длительность"})]}),(0,r.jsx)("div",{className:"space-y-2",role:"group","aria-label":"Фильтр по длительности",children:i.map(e=>(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>n(e.value),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(t.duration===e.value?"bg-primary-teal text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"),"aria-pressed":t.duration===e.value,children:e.label},e.label))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(m.Z,{className:"w-4 h-4 text-gray-600","aria-hidden":"true"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Цена"})]}),(0,r.jsx)("div",{className:"space-y-2",role:"group","aria-label":"Фильтр по цене",children:[{label:"Все цены",min:0,max:1/0},{label:"До 500 ₽",min:0,max:500},{label:"500-1000 ₽",min:500,max:1e3},{label:"1000+ ₽",min:1e3,max:1/0}].map(e=>{let a=0===e.min&&e.max===1/0&&!t.priceMin&&!t.priceMax||t.priceMin===String(e.min)&&t.priceMax===String(e.max);return(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>h(String(e.min),String(e.max)),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(a?"bg-primary-teal text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"),"aria-pressed":a,children:e.label},e.label)})})]}),(t.city||t.category||t.duration||t.search||t.priceMin||t.priceMax)&&(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"pt-6 border-t border-gray-100",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Активные фильтры:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.city&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:t.city}),t.category&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:t.category}),t.duration&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:null===(e=i.find(e=>e.value===t.duration))||void 0===e?void 0:e.label}),t.search&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:t.search}),(t.priceMin||t.priceMax)&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:t.priceMin&&t.priceMax?"".concat(t.priceMin,"-").concat(t.priceMax," ₽"):t.priceMin?"от ".concat(t.priceMin," ₽"):"до ".concat(t.priceMax," ₽")})]})]})]})},g=t(4446),f=t(4817),b=t(4697),v=t(3225);let j="mestoslov_search_history";var N=()=>{let e=(0,u.I0)(),[a,t]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[n,o]=(0,i.useState)([]),d=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,[t,r]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let t=setTimeout(()=>{r(e)},a);return()=>{clearTimeout(t)}},[e,a]),t}(a,300);(0,i.useEffect)(()=>{let e=localStorage.getItem(j);if(e)try{o(JSON.parse(e))}catch(e){console.error("Failed to parse search history",e)}},[]),(0,i.useEffect)(()=>{e((0,y.rr)({search:d}))},[d,e]);let x=e=>{if(t(e),e.trim()&&!n.includes(e.trim())){let a=[e.trim(),...n].slice(0,5);o(a),localStorage.setItem(j,JSON.stringify(a))}},m=(e,a)=>{a.stopPropagation();let t=n.filter(a=>a!==e);o(t),localStorage.setItem(j,JSON.stringify(t))};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(s.E.div,{animate:{scale:l?1.02:1,boxShadow:l?"0 10px 40px rgba(56, 178, 172, 0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)"},className:"relative bg-white rounded-2xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center px-6 py-4",children:[(0,r.jsx)(f.Z,{className:"w-5 h-5 mr-3 transition-colors ".concat(l?"text-primary-teal":"text-gray-400"),"aria-hidden":"true"}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>x(e.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),placeholder:"Поиск экскурсий по названию, городу или теме...",className:"flex-1 outline-none text-gray-900 placeholder-gray-400","aria-label":"Поиск экскурсий","aria-describedby":"search-description"}),(0,r.jsx)("span",{id:"search-description",className:"sr-only",children:"Введите название экскурсии, город или тему для поиска"}),(0,r.jsx)(g.M,{children:a&&(0,r.jsx)(s.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>{t(""),e((0,y.rr)({search:""}))},className:"ml-3 p-1 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Очистить поиск",children:(0,r.jsx)(b.Z,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})})]}),(0,r.jsx)(g.M,{children:l&&(0,r.jsx)(s.E.div,{initial:{scaleX:0},animate:{scaleX:1},exit:{scaleX:0},className:"h-1 bg-gradient-to-r from-primary-teal to-accent-amber origin-left","aria-hidden":"true"})})]}),(0,r.jsx)(g.M,{children:l&&!a&&(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl p-4 z-10",role:"listbox","aria-label":"Предложения для поиска",children:[n.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3 text-sm text-gray-600",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4","aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-medium",children:"История поиска"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>(0,r.jsxs)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(e),className:"px-4 py-2 bg-gray-100 hover:bg-primary-teal hover:text-white text-gray-700 rounded-full text-sm font-medium transition-colors flex items-center gap-2",role:"option","aria-label":"Поиск: ".concat(e),children:[e,(0,r.jsx)("button",{onClick:a=>m(e,a),className:"hover:bg-gray-200 rounded-full p-0.5","aria-label":"Удалить ".concat(e," из истории"),children:(0,r.jsx)(b.Z,{className:"w-3 h-3","aria-hidden":"true"})})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3 text-sm text-gray-600",children:[(0,r.jsx)(v.Z,{className:"w-4 h-4","aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-medium",children:"Популярные запросы"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["Москва","Санкт-Петербург","Казань","История","Архитектура","Природа"].map(e=>(0,r.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(e),className:"px-4 py-2 bg-primary-teal/10 hover:bg-primary-teal hover:text-white text-primary-teal rounded-full text-sm font-medium transition-colors",role:"option","aria-label":"Популярный поиск: ".concat(e),children:e},e))})]})]})})]})},w=t(851);function M(e){let{size:a="md",text:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsxs)(s.E.div,{className:"".concat({sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[a]," relative"),animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-gray-200"}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-primary-teal border-t-transparent"})]}),t&&(0,r.jsx)(s.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-4 text-gray-600",children:t})]})}function k(){let e=(0,l.useRouter)(),a=(0,l.useSearchParams)(),[t,n]=(0,i.useState)(()=>a.get("sort")||"popular"),[o,d]=(0,i.useState)({city:a.get("city")||"",category:a.get("category")||"",duration:a.get("duration")||"",search:a.get("search")||"",priceMin:a.get("priceMin")||"",priceMax:a.get("priceMax")||""});(0,i.useEffect)(()=>{let a=new URLSearchParams;o.city&&a.set("city",o.city),o.category&&a.set("category",o.category),o.duration&&a.set("duration",o.duration),o.search&&a.set("search",o.search),o.priceMin&&a.set("priceMin",o.priceMin),o.priceMax&&a.set("priceMax",o.priceMax),"popular"!==t&&a.set("sort",t);let r=a.toString();window.location.search!=="?".concat(r)&&e.replace(r?"/tours?".concat(r):"/tours",{scroll:!1})},[o,t,e]);let x=(0,i.useMemo)(()=>{let e=[...w.d];if(o.city&&(e=e.filter(e=>e.city===o.city)),o.category&&(e=e.filter(e=>e.category===o.category)),o.duration&&("60"===o.duration?e=e.filter(e=>e.duration<=60):"120"===o.duration?e=e.filter(e=>e.duration>60&&e.duration<=120):"180"===o.duration?e=e.filter(e=>e.duration>120&&e.duration<=180):"180+"===o.duration&&(e=e.filter(e=>e.duration>180))),o.priceMin&&(e=e.filter(e=>e.price>=parseInt(o.priceMin))),o.priceMax&&(e=e.filter(e=>e.price<=parseInt(o.priceMax))),o.search){let a=o.search.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.city.toLowerCase().includes(a))}return e},[o]),p=()=>{let e=[...x];switch(t){case"rating":return e.sort((e,a)=>a.rating-e.rating);case"price-low":return e.sort((e,a)=>e.price-a.price);case"price-high":return e.sort((e,a)=>a.price-e.price);case"newest":return e.sort((e,a)=>new Date(a.createdAt).getTime()-new Date(e.createdAt).getTime());default:return e}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-primary-cream to-white pt-24 pb-16",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-primary-green mb-4",children:"Каталог экскурсий"}),(0,r.jsxs)("p",{className:"text-xl text-gray-600",children:["Найдено ",x.length," экскурсий по всей России"]})]}),(0,r.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:(0,r.jsx)(N,{})}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)(s.E.aside,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:w-80 flex-shrink-0","aria-label":"Фильтры экскурсий",children:(0,r.jsx)(h,{})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("p",{className:"text-gray-600",children:["Показано ",p().length," из ",x.length]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("label",{htmlFor:"sort-select",className:"text-sm text-gray-600 sr-only",children:"Сортировка"}),(0,r.jsx)("span",{className:"text-sm text-gray-600","aria-hidden":"true",children:"Сортировка:"}),(0,r.jsx)("select",{id:"sort-select",value:t,onChange:e=>n(e.target.value),className:"px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-teal","aria-label":"Выберите способ сортировки",children:[{value:"popular",label:"Популярные"},{value:"rating",label:"Рейтинг"},{value:"price-low",label:"Цена: низкая"},{value:"price-high",label:"Цена: высокая"},{value:"newest",label:"Новые"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",role:"list","aria-label":"Список экскурсий",children:p().map((e,a)=>(0,r.jsx)(s.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*a},role:"listitem",children:(0,r.jsx)(c.Z,{tour:e})},e.id))}),0===p().length&&(0,r.jsxs)(s.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20",role:"status","aria-live":"polite",children:[(0,r.jsx)("div",{className:"w-32 h-32 bg-primary-teal/10 rounded-full flex items-center justify-center mx-auto mb-6","aria-hidden":"true",children:(0,r.jsx)("svg",{className:"w-16 h-16 text-primary-teal",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Экскурсии не найдены"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Попробуйте изменить параметры фильтрации"}),(0,r.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{d({city:"",category:"",duration:"",search:"",priceMin:"",priceMax:""}),n("popular")},className:"px-6 py-3 bg-primary-teal text-white rounded-full font-medium","aria-label":"Сбросить все фильтры",children:"Сбросить фильтры"})]})]})]})]})})}function E(){return(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-primary-cream to-white pt-24 pb-16 flex items-center justify-center",children:(0,r.jsx)(M,{})}),children:(0,r.jsx)(k,{})})}},469:function(e,a,t){"use strict";t.d(a,{rr:function(){return s}});let r=(0,t(6862).oM)({name:"tours",initialState:{tours:[],filteredTours:[],selectedTour:null,filters:{city:"",category:"",duration:"",search:"",priceMin:"",priceMax:""},loading:!1},reducers:{setTours:(e,a)=>{e.tours=a.payload,e.filteredTours=a.payload},setSelectedTour:(e,a)=>{e.selectedTour=a.payload},setFilters:(e,a)=>{e.filters={...e.filters,...a.payload}},filterTours:e=>{let a=[...e.tours];if(e.filters.city&&(a=a.filter(a=>a.city===e.filters.city)),e.filters.category&&(a=a.filter(a=>a.category===e.filters.category)),e.filters.search){let t=e.filters.search.toLowerCase();a=a.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}e.filteredTours=a},setLoading:(e,a)=>{e.loading=a.payload}}}),{setTours:i,setSelectedTour:l,setFilters:s,filterTours:c,setLoading:n}=r.actions;a.ZP=r.reducer}},function(e){e.O(0,[513,231,173,552,169,971,23,744],function(){return e(e.s=213)}),_N_E=e.O()}]);