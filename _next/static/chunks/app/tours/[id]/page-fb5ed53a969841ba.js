(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{7115:function(e,s,t){Promise.resolve().then(t.bind(t,9409))},9409:function(e,s,t){"use strict";t.d(s,{default:function(){return R}});var a=t(7437),i=t(2265),l=t(6463),r=t(1513),c=t(6648),n=t(9321),d=t(9338),x=t(933),o=t(4042),h=t(1510),m=t(8960),p=t(2940),u=t(4446),j=t(5574),g=t(1106),b=t(9093),f=t(4841),w=t(8094),N=t(6653),v=t(3395),y=t(8733),E=e=>{let{tour:s}=e,[t,l]=(0,i.useState)(!1),[c,n]=(0,i.useState)(0),[d,x]=(0,i.useState)(180),[o,h]=(0,i.useState)(1),[m,p]=(0,i.useState)(!1),[E,Z]=(0,i.useState)(!1),k=(0,i.useRef)(null),C=(0,i.useRef)();(0,i.useEffect)(()=>{if(t){let e=setInterval(()=>{n(e=>e>=d?(l(!1),0):e+1)},1e3);return()=>clearInterval(e)}},[t,d]),(0,i.useEffect)(()=>{let e=k.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let a=()=>{s.clearRect(0,0,e.width,e.height);let i=e.width/40;for(let a=0;a<40;a++){let l=t?Math.random()*e.height*.8+.1*e.height:.1*e.height,r=a*i,c=(e.height-l)/2,n=s.createLinearGradient(0,c,0,c+l);n.addColorStop(0,"#38B2AC"),n.addColorStop(1,"#F59E0B"),s.fillStyle=n,s.fillRect(r,c,i-2,l)}C.current=requestAnimationFrame(a)};return a(),()=>{C.current&&cancelAnimationFrame(C.current)}},[t]);let H=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Предпросмотр аудио"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Z(!E),className:"p-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:(0,a.jsx)(j.Z,{className:"w-5 h-5"})}),(0,a.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:(0,a.jsx)(g.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsx)("div",{className:"mb-6 bg-black/30 rounded-xl overflow-hidden",children:(0,a.jsx)("canvas",{ref:k,width:800,height:120,className:"w-full h-32"})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("input",{type:"range",min:"0",max:d,value:c,onChange:e=>{n(Number(e.target.value))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary-teal",style:{background:"linear-gradient(to right, #38B2AC 0%, #38B2AC ".concat(c/d*100,"%, #374151 ").concat(c/d*100,"%, #374151 100%)")}}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[(0,a.jsx)("span",{children:H(c)}),(0,a.jsx)("span",{children:H(d)})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-3 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:(0,a.jsx)(b.Z,{className:"w-5 h-5"})}),(0,a.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{l(!t)},className:"p-6 bg-gradient-to-br from-primary-teal to-accent-amber rounded-full text-white shadow-glow",children:t?(0,a.jsx)(f.Z,{className:"w-8 h-8"}):(0,a.jsx)(w.Z,{className:"w-8 h-8 ml-1"})}),(0,a.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-3 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:(0,a.jsx)(N.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>p(!m),className:"text-white",children:m||0===o?(0,a.jsx)(v.Z,{className:"w-5 h-5"}):(0,a.jsx)(y.Z,{className:"w-5 h-5"})}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:m?0:o,onChange:e=>{let s=Number(e.target.value);h(s),p(0===s)},className:"w-24 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary-teal"})]})]}),(0,a.jsx)(u.M,{children:E&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 pt-6 border-t border-gray-700",children:[(0,a.jsx)("h4",{className:"text-white font-bold mb-4",children:"Точки маршрута"}),(0,a.jsx)("div",{className:"space-y-2",children:[{title:"Введение",duration:"2:30"},{title:"Главная площадь",duration:"5:45"},{title:"Исторический центр",duration:"7:20"},{title:"Набережная",duration:"4:15"},{title:"Финал",duration:"1:30"}].map((e,s)=>(0,a.jsxs)(r.E.button,{whileHover:{x:4},className:"w-full flex items-center justify-between p-3 bg-white/5 hover:bg-white/10 rounded-lg text-left transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("span",{className:"text-primary-teal font-bold",children:["#",s+1]}),(0,a.jsx)("span",{className:"text-white",children:e.title})]}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:e.duration})]},s))})]})})]})},Z=t(5173),k=t(690),C=e=>{let{tour:s}=e,[t,l]=(0,i.useState)(0),c=[{id:1,title:"Стартовая точка",description:"Начало вашего путешествия",latitude:55.7558,longitude:37.6173,image:"https://images.unsplash.com/photo-1520106212299-d99c443e4568?w=400",duration:"2 минуты"},{id:2,title:"Главная площадь",description:"Сердце города с богатой историей",latitude:55.754,longitude:37.62,image:"https://images.unsplash.com/photo-1513326738677-b964603b136d?w=400",duration:"5 минут"},{id:3,title:"Исторический памятник",description:"Знаковое место с удивительными фактами",latitude:55.753,longitude:37.622,image:"https://images.unsplash.com/photo-1555991438-b87d68cb3e1f?w=400",duration:"7 минут"},{id:4,title:"Набережная",description:"Живописное место для прогулок",latitude:55.752,longitude:37.625,image:"https://images.unsplash.com/photo-1564507592333-c60657eea523?w=400",duration:"4 минуты"},{id:5,title:"Финальная точка",description:"Завершение маршрута",latitude:55.751,longitude:37.628,image:"https://images.unsplash.com/photo-1547448415-e9f5b28e570d?w=400",duration:"2 минуты"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative h-96 bg-gray-900 rounded-xl overflow-hidden",children:[(0,a.jsxs)("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 800 400",children:[(0,a.jsx)("rect",{width:"800",height:"400",fill:"#1F2937"}),[...Array(20)].map((e,s)=>(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:40*s,y1:"0",x2:40*s,y2:"400",stroke:"#374151",strokeWidth:"1",opacity:"0.3"}),(0,a.jsx)("line",{x1:"0",y1:20*s,x2:"800",y2:20*s,stroke:"#374151",strokeWidth:"1",opacity:"0.3"})]},s)),(0,a.jsx)(r.E.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,ease:"easeInOut"},d:"M 100 200 Q 200 150, 300 180 T 500 220 T 700 200",stroke:"#38B2AC",strokeWidth:"4",fill:"none",strokeDasharray:"10,5"}),c.map((e,s)=>{let i=100+150*s,c=200+30*Math.sin(s);return(0,a.jsxs)("g",{children:[(0,a.jsx)(r.E.circle,{animate:{r:[15,25,15],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0,delay:.2*s},cx:i,cy:c,fill:"#38B2AC"}),(0,a.jsx)(r.E.circle,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2*s},cx:i,cy:c,r:"12",fill:t===s?"#F59E0B":"#38B2AC",className:"cursor-pointer",onClick:()=>l(s),whileHover:{r:16}}),(0,a.jsx)("text",{x:i,y:c+5,textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",className:"pointer-events-none",children:s+1})]},e.id)})]}),(0,a.jsx)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:(0,a.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-3 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg",children:(0,a.jsx)(Z.Z,{className:"w-5 h-5 text-gray-700"})})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-xl font-bold text-white mb-4",children:"Маршрут экскурсии"}),c.map((e,s)=>(0,a.jsx)(r.E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*s},onClick:()=>l(s),className:"cursor-pointer p-4 rounded-xl transition-all ".concat(t===s?"bg-primary-teal/20 border-2 border-primary-teal":"bg-gray-700/50 border-2 border-transparent hover:bg-gray-700"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold ".concat(t===s?"bg-primary-teal text-white":"bg-gray-600 text-gray-300"),children:s+1}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h5",{className:"text-lg font-bold text-white",children:e.title}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:e.duration})]}),(0,a.jsx)("p",{className:"text-gray-300 mb-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.latitude.toFixed(4),", ",e.longitude.toFixed(4)]})]})]})]})},e.id))]}),(0,a.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 bg-gradient-to-r from-primary-teal/20 to-accent-amber/20 rounded-xl border border-primary-teal/30",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(k.Z,{className:"w-6 h-6 text-primary-teal flex-shrink-0 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-bold text-white mb-2",children:"Совет по прохождению"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Аудио будет автоматически воспроизводиться, когда вы приближаетесь к каждой точке. Убедитесь, что у вас включена геолокация и загружен оффлайн-контент для бесперебойной работы."})]})]})})]})},H=t(7583),S=t(5636),T=e=>{let{tourId:s}=e,[t,l]=(0,i.useState)(null);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl font-bold text-white mb-2",children:"4.9"}),(0,a.jsx)("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(d.Z,{className:"w-6 h-6 fill-accent-amber text-accent-amber"},s))}),(0,a.jsx)("p",{className:"text-gray-400",children:"На основе 234 отзывов"})]}),(0,a.jsx)("div",{className:"space-y-2",children:[{stars:5,count:189,percentage:85},{stars:4,count:28,percentage:12},{stars:3,count:5,percentage:2},{stars:2,count:1,percentage:.5},{stars:1,count:1,percentage:.5}].map(e=>(0,a.jsxs)(r.E.button,{whileHover:{scale:1.02},onClick:()=>l(e.stars),className:"w-full flex items-center space-x-3 p-2 rounded-lg transition-colors ".concat(t===e.stars?"bg-white/10":"hover:bg-white/5"),children:[(0,a.jsxs)("span",{className:"text-white font-medium w-12",children:[e.stars," ★"]}),(0,a.jsx)("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)(r.E.div,{initial:{width:0},animate:{width:"".concat(e.percentage,"%")},transition:{duration:1,delay:.1*e.stars},className:"h-full bg-gradient-to-r from-accent-amber to-primary-teal"})}),(0,a.jsx)("span",{className:"text-gray-400 text-sm w-12 text-right",children:e.count})]},e.stars))})]}),(0,a.jsxs)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full px-6 py-4 bg-gradient-to-r from-primary-teal to-accent-amber text-white rounded-xl font-bold flex items-center justify-center space-x-2",children:[(0,a.jsx)(H.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Написать отзыв"})]}),(0,a.jsx)("div",{className:"space-y-6",children:[{id:1,user:{name:"Мария Иванова",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150"},rating:5,date:"15 января 2024",text:"Невероятная экскурсия! Узнала столько нового о своем городе. Рассказчик очень харизматичный, а аудио качество на высоте. Особенно понравилась автоматическая активация точек по геолокации.",helpful:24,images:["https://images.unsplash.com/photo-1555991438-b87d68cb3e1f?w=300","https://images.unsplash.com/photo-1513326738677-b964603b136d?w=300"]},{id:2,user:{name:"Алексей Смирнов",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150"},rating:5,date:"10 января 2024",text:"Отличный способ познакомиться с городом! Можно идти в своем темпе, останавливаться где захочется. Информация подана интересно и ненавязчиво.",helpful:18},{id:3,user:{name:"Елена Волкова",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150"},rating:4,date:"5 января 2024",text:"Хорошая экскурсия, но иногда GPS подводил и аудио включалось не сразу. В целом впечатления отличные, рекомендую!",helpful:12}].map((e,s)=>(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*s},className:"p-6 bg-gray-700/50 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"relative w-12 h-12 rounded-full overflow-hidden",children:(0,a.jsx)(c.default,{src:e.user.avatar,alt:e.user.name,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-bold text-white",children:e.user.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.date})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>(0,a.jsx)(d.Z,{className:"w-4 h-4 ".concat(t<e.rating?"fill-accent-amber text-accent-amber":"text-gray-600")},t))})]}),(0,a.jsx)("p",{className:"text-gray-300 leading-relaxed mb-4",children:e.text}),e.images&&e.images.length>0&&(0,a.jsx)("div",{className:"flex space-x-2 mb-4",children:e.images.map((e,s)=>(0,a.jsx)(r.E.div,{whileHover:{scale:1.05},className:"relative w-24 h-24 rounded-lg overflow-hidden cursor-pointer",children:(0,a.jsx)(c.default,{src:e,alt:"Review image ".concat(s+1),fill:!0,className:"object-cover"})},s))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 text-gray-400 hover:text-primary-teal transition-colors",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm",children:["Полезно (",e.helpful,")"]})]}),(0,a.jsxs)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 text-gray-400 hover:text-primary-teal transition-colors",children:[(0,a.jsx)(H.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Ответить"})]})]})]},e.id))}),(0,a.jsx)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full px-6 py-3 bg-gray-700/50 text-white rounded-xl font-medium hover:bg-gray-700 transition-colors",children:"Показать еще отзывы"})]})},A=t(7138),B=e=>{let{author:s}=e;return(0,a.jsxs)(r.E.div,{whileHover:{y:-4},className:"bg-white rounded-2xl p-6 shadow-elevation",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[(0,a.jsx)(c.default,{src:s.avatar,alt:s.name,fill:!0,className:"object-cover rounded-full"}),s.verified&&(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-primary-teal rounded-full flex items-center justify-center border-4 border-white",children:(0,a.jsx)(p.Z,{className:"w-4 h-4 text-white"})})]}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:s.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:s.bio})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Экскурсий"}),(0,a.jsx)("span",{className:"font-bold text-gray-900",children:s.toursCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Рейтинг"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 fill-accent-amber text-accent-amber"}),(0,a.jsx)("span",{className:"font-bold text-gray-900",children:s.rating})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Статус"}),(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 text-primary-teal"}),(0,a.jsx)("span",{className:"text-sm font-medium text-primary-teal",children:"Проверен"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(A.default,{href:"/authors/".concat(s.id),children:(0,a.jsx)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full px-6 py-3 bg-primary-teal text-white rounded-xl font-medium hover:shadow-glow transition-all",children:"Все экскурсии автора"})}),(0,a.jsxs)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full px-6 py-3 bg-gray-100 text-gray-900 rounded-xl font-medium hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[(0,a.jsx)(H.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Написать автору"})]})]})]})},F=t(1976),_=t(4863),I=t(851),M=e=>{let{currentTourId:s,city:t}=e,i=I.d.filter(e=>e.id!==s&&e.city===t).slice(0,3);return 0===i.length?null:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Похожие экскурсии"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Другие интересные маршруты в городе ",t]})]}),(0,a.jsx)(A.default,{href:"/tours?city=".concat(t),children:(0,a.jsxs)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"hidden md:flex items-center space-x-2 px-6 py-3 bg-white/10 backdrop-blur-md text-white rounded-full font-medium hover:bg-white/20 transition-all",children:[(0,a.jsxs)("span",{children:["Все в ",t]}),(0,a.jsx)(F.Z,{className:"w-5 h-5"})]})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((e,s)=>(0,a.jsx)(r.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*s},children:(0,a.jsx)(_.Z,{tour:e})},e.id))})]})};function R(){var e;let s=(0,l.useParams)(),[t,u]=(0,i.useState)(null),[j,g]=(0,i.useState)(!1),[b,f]=(0,i.useState)("overview");return((0,i.useEffect)(()=>{let e=I.d.find(e=>e.id===s.id);e&&u(e)},[s.id]),t)?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-primary-cream to-white",children:[(0,a.jsxs)("section",{className:"relative h-[70vh] overflow-hidden",children:[(0,a.jsx)(c.default,{src:t.image,alt:t.title,fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),(0,a.jsx)("div",{className:"relative z-10 h-full flex items-end",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 pb-20 w-full",children:(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-white/80 mb-4",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:t.city}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:t.category})]}),(0,a.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:t.title}),(0,a.jsx)("p",{className:"text-xl text-white/90 mb-8 max-w-3xl leading-relaxed",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-8 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 fill-accent-amber text-accent-amber"}),(0,a.jsx)("span",{className:"font-semibold",children:t.rating}),(0,a.jsxs)("span",{className:"text-white/70",children:["(",t.reviewsCount," отзывов)"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:[t.duration," мин"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:[t.distance," км"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>g(!j),className:"flex items-center space-x-2 px-6 py-3 rounded-full transition-all ".concat(j?"bg-accent-raspberry text-white":"bg-white/20 text-white hover:bg-white/30"),children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 ".concat(j?"fill-current":"")}),(0,a.jsx)("span",{children:j?"В избранном":"В избранное"})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 px-6 py-3 bg-white/20 text-white rounded-full hover:bg-white/30 transition-all",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Поделиться"})]})]})]})})})]}),(0,a.jsx)("section",{className:"py-16 px-4",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-12",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{id:"overview",label:"Обзор"},{id:"route",label:"Маршрут"},{id:"reviews",label:"Отзывы"}].map(e=>(0,a.jsx)("button",{onClick:()=>f(e.id),className:"flex-1 py-3 px-4 rounded-md text-sm font-medium transition-all ".concat(b===e.id?"bg-white text-primary-teal shadow-sm":"text-gray-600 hover:text-gray-900"),children:e.label},e.id))})}),"overview"===b&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Аудиогид"}),(0,a.jsx)(E,{tour:t})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Точки маршрута"}),(0,a.jsx)("div",{className:"space-y-4",children:(null===(e=t.points)||void 0===e?void 0:e.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-teal rounded-full flex items-center justify-center text-white font-bold",children:s+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600",children:e.description})]})]},s)))||(0,a.jsx)("p",{className:"text-gray-500",children:"Информация о точках маршрута будет добавлена"})})]})]}),"route"===b&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-2xl p-8 shadow-lg",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Интерактивная карта"}),(0,a.jsx)(C,{tour:t})]}),"reviews"===b&&(0,a.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsx)(T,{tourId:t.id})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg sticky top-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold text-primary-teal mb-2",children:[t.price," ₽"]}),(0,a.jsx)("div",{className:"text-gray-600",children:"за экскурсию"})]}),(0,a.jsxs)("button",{className:"w-full bg-gradient-sunset text-white py-4 rounded-xl font-semibold text-lg mb-4 hover:shadow-lg transition-all",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 inline mr-2"}),"Купить экскурсию"]}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Пожизненный доступ"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Офлайн режим"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Карта маршрута"})]})]})]}),(0,a.jsx)(B,{author:t.author}),(0,a.jsx)(M,{currentTourId:t.id,city:t.city})]})]})})})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-teal"})})}}},function(e){e.O(0,[513,231,173,217,169,971,23,744],function(){return e(e.s=7115)}),_N_E=e.O()}]);