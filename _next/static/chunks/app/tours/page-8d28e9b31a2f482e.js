(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{213:function(e,t,a){Promise.resolve().then(a.bind(a,6926))},933:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1077:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(8030).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4042:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(8030).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8094:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(8030).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},9338:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(8030).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},3225:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(8030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},6648:function(e,t,a){"use strict";a.d(t,{default:function(){return i.a}});var r=a(5601),i=a.n(r)},5601:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return c},getImageProps:function(){return n}});let r=a(9920),i=a(497),l=a(8173),s=r._(a(1241));function n(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/MestoSlov_MVP_site/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let c=l.Image},6926:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var r=a(7437),i=a(2265),l=a(6463),s=a(1513),n=a(4863),c=a(8030);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var d=a(9321);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,c.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var u=a(933),m=a(1077),p=a(1444),y=a(469),h=()=>{var e;let t=(0,p.I0)(),{filters:a}=(0,p.v9)(e=>e.tours),i=[{label:"Любая",value:""},{label:"До 1 часа",value:"60"},{label:"1-2 часа",value:"120"},{label:"2-3 часа",value:"180"},{label:"3+ часа",value:"180+"}],l=e=>{t((0,y.rr)({city:"Все города"===e?"":e}))},n=e=>{t((0,y.rr)({category:"Все категории"===e?"":e}))},c=e=>{t((0,y.rr)({duration:e}))},h=(e,a)=>{t((0,y.rr)({priceMin:"0"===e&&"Infinity"===a?"":e,priceMax:"Infinity"===a?"":a}))};return(0,r.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl p-6 shadow-elevation sticky top-24",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o,{className:"w-5 h-5 text-primary-teal"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Фильтры"})]}),(0,r.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{t((0,y.rr)({city:"",category:"",duration:"",search:"",priceMin:"",priceMax:""}))},className:"text-sm text-primary-teal hover:underline",children:"Сбросить"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 text-gray-600"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Город"})]}),(0,r.jsx)("div",{className:"space-y-2",children:["Все города","Москва","Санкт-Петербург","Казань","Екатеринбург","Владивосток","Сочи","Владимир","Нижний Новгород"].map(e=>(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>l(e),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(("Все города"!==e||a.city)&&a.city!==e?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-primary-teal text-white"),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(x,{className:"w-4 h-4 text-gray-600"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Категория"})]}),(0,r.jsx)("div",{className:"space-y-2",children:["Все категории","История","Архитектура","Культура","Природа","Искусство","Гастрономия","Традиции"].map(e=>(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>n(e),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(("Все категории"!==e||a.category)&&a.category!==e?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-primary-teal text-white"),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 text-gray-600","aria-hidden":"true"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Длительность"})]}),(0,r.jsx)("div",{className:"space-y-2",role:"group","aria-label":"Фильтр по длительности",children:i.map(e=>(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>c(e.value),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(a.duration===e.value?"bg-primary-teal text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"),"aria-pressed":a.duration===e.value,children:e.label},e.label))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(m.Z,{className:"w-4 h-4 text-gray-600","aria-hidden":"true"}),(0,r.jsx)("label",{className:"font-medium text-gray-900",children:"Цена"})]}),(0,r.jsx)("div",{className:"space-y-2",role:"group","aria-label":"Фильтр по цене",children:[{label:"Все цены",min:0,max:1/0},{label:"До 500 ₽",min:0,max:500},{label:"500-1000 ₽",min:500,max:1e3},{label:"1000+ ₽",min:1e3,max:1/0}].map(e=>{let t=0===e.min&&e.max===1/0&&!a.priceMin&&!a.priceMax||a.priceMin===String(e.min)&&a.priceMax===String(e.max);return(0,r.jsx)(s.E.button,{whileHover:{x:4},onClick:()=>h(String(e.min),String(e.max)),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(t?"bg-primary-teal text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"),"aria-pressed":t,children:e.label},e.label)})})]}),(a.city||a.category||a.duration||a.search||a.priceMin||a.priceMax)&&(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"pt-6 border-t border-gray-100",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Активные фильтры:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.city&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:a.city}),a.category&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:a.category}),a.duration&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:null===(e=i.find(e=>e.value===a.duration))||void 0===e?void 0:e.label}),a.search&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:a.search}),(a.priceMin||a.priceMax)&&(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:a.priceMin&&a.priceMax?"".concat(a.priceMin,"-").concat(a.priceMax," ₽"):a.priceMin?"от ".concat(a.priceMin," ₽"):"до ".concat(a.priceMax," ₽")})]})]})]})},g=a(4446),f=a(4817),b=a(4697),v=a(3225);let j="mestoslov_search_history";var N=()=>{let e=(0,p.I0)(),[t,a]=(0,i.useState)(""),[l,n]=(0,i.useState)(!1),[c,o]=(0,i.useState)([]),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,[a,r]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let a=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(a)}},[e,t]),a}(t,300);(0,i.useEffect)(()=>{let e=localStorage.getItem(j);if(e)try{o(JSON.parse(e))}catch(e){console.error("Failed to parse search history",e)}},[]),(0,i.useEffect)(()=>{e((0,y.rr)({search:d}))},[d,e]);let x=e=>{if(a(e),e.trim()&&!c.includes(e.trim())){let t=[e.trim(),...c].slice(0,5);o(t),localStorage.setItem(j,JSON.stringify(t))}},m=(e,t)=>{t.stopPropagation();let a=c.filter(t=>t!==e);o(a),localStorage.setItem(j,JSON.stringify(a))};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(s.E.div,{animate:{scale:l?1.02:1,boxShadow:l?"0 10px 40px rgba(56, 178, 172, 0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)"},className:"relative bg-white rounded-2xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center px-6 py-4",children:[(0,r.jsx)(f.Z,{className:"w-5 h-5 mr-3 transition-colors ".concat(l?"text-primary-teal":"text-gray-400"),"aria-hidden":"true"}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>x(e.target.value),onFocus:()=>n(!0),onBlur:()=>setTimeout(()=>n(!1),200),placeholder:"Поиск экскурсий по названию, городу или теме...",className:"flex-1 outline-none text-gray-900 placeholder-gray-400","aria-label":"Поиск экскурсий","aria-describedby":"search-description"}),(0,r.jsx)("span",{id:"search-description",className:"sr-only",children:"Введите название экскурсии, город или тему для поиска"}),(0,r.jsx)(g.M,{children:t&&(0,r.jsx)(s.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>{a(""),e((0,y.rr)({search:""}))},className:"ml-3 p-1 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Очистить поиск",children:(0,r.jsx)(b.Z,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})})]}),(0,r.jsx)(g.M,{children:l&&(0,r.jsx)(s.E.div,{initial:{scaleX:0},animate:{scaleX:1},exit:{scaleX:0},className:"h-1 bg-gradient-to-r from-primary-teal to-accent-amber origin-left","aria-hidden":"true"})})]}),(0,r.jsx)(g.M,{children:l&&!t&&(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl p-4 z-10",role:"listbox","aria-label":"Предложения для поиска",children:[c.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3 text-sm text-gray-600",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4","aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-medium",children:"История поиска"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,r.jsxs)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(e),className:"px-4 py-2 bg-gray-100 hover:bg-primary-teal hover:text-white text-gray-700 rounded-full text-sm font-medium transition-colors flex items-center gap-2",role:"option","aria-label":"Поиск: ".concat(e),children:[e,(0,r.jsx)("button",{onClick:t=>m(e,t),className:"hover:bg-gray-200 rounded-full p-0.5","aria-label":"Удалить ".concat(e," из истории"),children:(0,r.jsx)(b.Z,{className:"w-3 h-3","aria-hidden":"true"})})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3 text-sm text-gray-600",children:[(0,r.jsx)(v.Z,{className:"w-4 h-4","aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-medium",children:"Популярные запросы"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["Москва","Санкт-Петербург","Казань","История","Архитектура","Природа"].map(e=>(0,r.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(e),className:"px-4 py-2 bg-primary-teal/10 hover:bg-primary-teal hover:text-white text-primary-teal rounded-full text-sm font-medium transition-colors",role:"option","aria-label":"Популярный поиск: ".concat(e),children:e},e))})]})]})})]})},w=a(851),M=a(6824);function k(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[a,c]=(0,i.useState)(()=>t.get("sort")||"popular"),[o,d]=(0,i.useState)({city:t.get("city")||"",category:t.get("category")||"",duration:t.get("duration")||"",search:t.get("search")||"",priceMin:t.get("priceMin")||"",priceMax:t.get("priceMax")||""});(0,i.useEffect)(()=>{let t=new URLSearchParams;o.city&&t.set("city",o.city),o.category&&t.set("category",o.category),o.duration&&t.set("duration",o.duration),o.search&&t.set("search",o.search),o.priceMin&&t.set("priceMin",o.priceMin),o.priceMax&&t.set("priceMax",o.priceMax),"popular"!==a&&t.set("sort",a);let r=t.toString();window.location.search!=="?".concat(r)&&e.replace(r?"/tours?".concat(r):"/tours",{scroll:!1})},[o,a,e]);let x=(0,i.useMemo)(()=>{let e=[...w.d];if(o.city&&(e=e.filter(e=>e.city===o.city)),o.category&&(e=e.filter(e=>e.category===o.category)),o.duration&&("60"===o.duration?e=e.filter(e=>e.duration<=60):"120"===o.duration?e=e.filter(e=>e.duration>60&&e.duration<=120):"180"===o.duration?e=e.filter(e=>e.duration>120&&e.duration<=180):"180+"===o.duration&&(e=e.filter(e=>e.duration>180))),o.priceMin&&(e=e.filter(e=>e.price>=parseInt(o.priceMin))),o.priceMax&&(e=e.filter(e=>e.price<=parseInt(o.priceMax))),o.search){let t=o.search.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.city.toLowerCase().includes(t))}return e},[o]),u=()=>{let e=[...x];switch(a){case"rating":return e.sort((e,t)=>t.rating-e.rating);case"price-low":return e.sort((e,t)=>e.price-t.price);case"price-high":return e.sort((e,t)=>t.price-e.price);case"newest":return e.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());default:return e}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-primary-cream to-white pt-24 pb-16",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-primary-green mb-4",children:"Каталог экскурсий"}),(0,r.jsxs)("p",{className:"text-xl text-gray-600",children:["Найдено ",x.length," экскурсий по всей России"]})]}),(0,r.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:(0,r.jsx)(N,{})}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)(s.E.aside,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:w-80 flex-shrink-0","aria-label":"Фильтры экскурсий",children:(0,r.jsx)(h,{})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("p",{className:"text-gray-600",children:["Показано ",u().length," из ",x.length]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("label",{htmlFor:"sort-select",className:"text-sm text-gray-600 sr-only",children:"Сортировка"}),(0,r.jsx)("span",{className:"text-sm text-gray-600","aria-hidden":"true",children:"Сортировка:"}),(0,r.jsx)("select",{id:"sort-select",value:a,onChange:e=>c(e.target.value),className:"px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-teal","aria-label":"Выберите способ сортировки",children:[{value:"popular",label:"Популярные"},{value:"rating",label:"Рейтинг"},{value:"price-low",label:"Цена: низкая"},{value:"price-high",label:"Цена: высокая"},{value:"newest",label:"Новые"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",role:"list","aria-label":"Список экскурсий",children:u().map((e,t)=>(0,r.jsx)(s.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*t},role:"listitem",children:(0,r.jsx)(n.Z,{tour:e})},e.id))}),0===u().length&&(0,r.jsxs)(s.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20",role:"status","aria-live":"polite",children:[(0,r.jsx)("div",{className:"w-32 h-32 bg-primary-teal/10 rounded-full flex items-center justify-center mx-auto mb-6","aria-hidden":"true",children:(0,r.jsx)("svg",{className:"w-16 h-16 text-primary-teal",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Экскурсии не найдены"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Попробуйте изменить параметры фильтрации"}),(0,r.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{d({city:"",category:"",duration:"",search:"",priceMin:"",priceMax:""}),c("popular")},className:"px-6 py-3 bg-primary-teal text-white rounded-full font-medium","aria-label":"Сбросить все фильтры",children:"Сбросить фильтры"})]})]})]})]})})}function E(){return(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-primary-cream to-white pt-24 pb-16 flex items-center justify-center",children:(0,r.jsx)(M.Z,{})}),children:(0,r.jsx)(k,{})})}},6824:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(7437),i=a(1513);function l(e){let{size:t="md",text:a}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsxs)(i.E.div,{className:"".concat({sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[t]," relative"),animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-gray-200"}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-primary-teal border-t-transparent"})]}),a&&(0,r.jsx)(i.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-4 text-gray-600",children:a})]})}},469:function(e,t,a){"use strict";a.d(t,{rr:function(){return s}});let r=(0,a(6862).oM)({name:"tours",initialState:{tours:[],filteredTours:[],selectedTour:null,filters:{city:"",category:"",duration:"",search:"",priceMin:"",priceMax:""},loading:!1},reducers:{setTours:(e,t)=>{e.tours=t.payload,e.filteredTours=t.payload},setSelectedTour:(e,t)=>{e.selectedTour=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},filterTours:e=>{let t=[...e.tours];if(e.filters.city&&(t=t.filter(t=>t.city===e.filters.city)),e.filters.category&&(t=t.filter(t=>t.category===e.filters.category)),e.filters.search){let a=e.filters.search.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a))}e.filteredTours=t},setLoading:(e,t)=>{e.loading=t.payload}}}),{setTours:i,setSelectedTour:l,setFilters:s,filterTours:n,setLoading:c}=r.actions;t.ZP=r.reducer}},function(e){e.O(0,[513,231,173,58,169,971,23,744],function(){return e(e.s=213)}),_N_E=e.O()}]);