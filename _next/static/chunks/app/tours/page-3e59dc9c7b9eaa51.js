(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{213:function(e,t,a){Promise.resolve().then(a.bind(a,5842))},933:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4042:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(8030).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8094:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(8030).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},9338:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(8030).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},3225:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(8030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5842:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var l=a(7437),i=a(2265),r=a(1513),s=a(1444),n=a(469),c=a(4863),o=a(8030);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var x=a(9321);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,o.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var m=a(933),u=()=>{var e;let t=(0,s.I0)(),{filters:a}=(0,s.v9)(e=>e.tours),i=[{label:"Любая",value:""},{label:"До 1 часа",value:"60"},{label:"1-2 часа",value:"120"},{label:"2-3 часа",value:"180"},{label:"3+ часа",value:"180+"}],c=e=>{t((0,n.rr)({city:"Все города"===e?"":e}))},o=e=>{t((0,n.rr)({category:"Все категории"===e?"":e}))},u=e=>{t((0,n.rr)({duration:e}))};return(0,l.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl p-6 shadow-elevation sticky top-24",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(d,{className:"w-5 h-5 text-primary-teal"}),(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Фильтры"})]}),(0,l.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{t((0,n.rr)({city:"",category:"",duration:"",search:""}))},className:"text-sm text-primary-teal hover:underline",children:"Сбросить"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,l.jsx)(x.Z,{className:"w-4 h-4 text-gray-600"}),(0,l.jsx)("label",{className:"font-medium text-gray-900",children:"Город"})]}),(0,l.jsx)("div",{className:"space-y-2",children:["Все города","Москва","Санкт-Петербург","Казань","Екатеринбург","Владивосток","Сочи","Владимир","Нижний Новгород"].map(e=>(0,l.jsx)(r.E.button,{whileHover:{x:4},onClick:()=>c(e),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(("Все города"!==e||a.city)&&a.city!==e?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-primary-teal text-white"),children:e},e))})]}),(0,l.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-100",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,l.jsx)(y,{className:"w-4 h-4 text-gray-600"}),(0,l.jsx)("label",{className:"font-medium text-gray-900",children:"Категория"})]}),(0,l.jsx)("div",{className:"space-y-2",children:["Все категории","История","Архитектура","Культура","Природа","Искусство","Гастрономия","Традиции"].map(e=>(0,l.jsx)(r.E.button,{whileHover:{x:4},onClick:()=>o(e),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(("Все категории"!==e||a.category)&&a.category!==e?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-primary-teal text-white"),children:e},e))})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,l.jsx)(m.Z,{className:"w-4 h-4 text-gray-600"}),(0,l.jsx)("label",{className:"font-medium text-gray-900",children:"Длительность"})]}),(0,l.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,l.jsx)(r.E.button,{whileHover:{x:4},onClick:()=>u(e.value),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(a.duration===e.value?"bg-primary-teal text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"),children:e.label},e.label))})]}),(a.city||a.category||a.duration||a.search)&&(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"pt-6 border-t border-gray-100",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Активные фильтры:"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.city&&(0,l.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:a.city}),a.category&&(0,l.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:a.category}),a.duration&&(0,l.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:null===(e=i.find(e=>e.value===a.duration))||void 0===e?void 0:e.label}),a.search&&(0,l.jsx)("span",{className:"px-3 py-1 bg-primary-teal/10 text-primary-teal text-sm rounded-full",children:a.search})]})]})]})},p=a(4446),h=a(4817),g=a(4697),f=a(3225),b=()=>{let e=(0,s.I0)(),[t,a]=(0,i.useState)(""),[c,o]=(0,i.useState)(!1),d=t=>{a(t),e((0,n.rr)({search:t}))};return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(r.E.div,{animate:{scale:c?1.02:1,boxShadow:c?"0 10px 40px rgba(56, 178, 172, 0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)"},className:"relative bg-white rounded-2xl overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex items-center px-6 py-4",children:[(0,l.jsx)(h.Z,{className:"w-5 h-5 mr-3 transition-colors ".concat(c?"text-primary-teal":"text-gray-400")}),(0,l.jsx)("input",{type:"text",value:t,onChange:e=>d(e.target.value),onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),200),placeholder:"Поиск экскурсий по названию, городу или теме...",className:"flex-1 outline-none text-gray-900 placeholder-gray-400"}),(0,l.jsx)(p.M,{children:t&&(0,l.jsx)(r.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>{a(""),e((0,n.rr)({search:""}))},className:"ml-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:(0,l.jsx)(g.Z,{className:"w-5 h-5 text-gray-400"})})})]}),(0,l.jsx)(p.M,{children:c&&(0,l.jsx)(r.E.div,{initial:{scaleX:0},animate:{scaleX:1},exit:{scaleX:0},className:"h-1 bg-gradient-to-r from-primary-teal to-accent-amber origin-left"})})]}),(0,l.jsx)(p.M,{children:c&&!t&&(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl p-4 z-10",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-3 text-sm text-gray-600",children:[(0,l.jsx)(f.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"font-medium",children:"Популярные запросы"})]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:["Москва","Санкт-Петербург","Казань","История","Архитектура","Природа"].map(e=>(0,l.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(e),className:"px-4 py-2 bg-primary-teal/10 hover:bg-primary-teal hover:text-white text-primary-teal rounded-full text-sm font-medium transition-colors",children:e},e))})]})})]})},v=a(851);function j(){let e=(0,s.I0)(),{filteredTours:t,filters:a}=(0,s.v9)(e=>e.tours),[o,d]=(0,i.useState)("popular");(0,i.useEffect)(()=>{e((0,n.V0)(v.d))},[e]),(0,i.useEffect)(()=>{e((0,n.Lb)())},[a,e]);let x=()=>{let e=[...t];switch(o){case"rating":return e.sort((e,t)=>t.rating-e.rating);case"price-low":return e.sort((e,t)=>e.price-t.price);case"price-high":return e.sort((e,t)=>t.price-e.price);case"newest":return e.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());default:return e}};return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-primary-cream to-white pt-24 pb-16",children:(0,l.jsxs)("div",{className:"container mx-auto px-4",children:[(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-primary-green mb-4",children:"Каталог экскурсий"}),(0,l.jsxs)("p",{className:"text-xl text-gray-600",children:["Найдено ",t.length," экскурсий по всей России"]})]}),(0,l.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:(0,l.jsx)(b,{})}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,l.jsx)(r.E.aside,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:w-80 flex-shrink-0",children:(0,l.jsx)(u,{})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("p",{className:"text-gray-600",children:["Показано ",x().length," из ",t.length]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Сортировка:"}),(0,l.jsx)("select",{value:o,onChange:e=>d(e.target.value),className:"px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-teal",children:[{value:"popular",label:"Популярные"},{value:"rating",label:"Рейтинг"},{value:"price-low",label:"Цена: низкая"},{value:"price-high",label:"Цена: высокая"},{value:"newest",label:"Новые"}].map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,l.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:x().map((e,t)=>(0,l.jsx)(r.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*t},children:(0,l.jsx)(c.Z,{tour:e})},e.id))}),0===x().length&&(0,l.jsxs)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20",children:[(0,l.jsx)("div",{className:"w-32 h-32 bg-primary-teal/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-16 h-16 text-primary-teal",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Экскурсии не найдены"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"Попробуйте изменить параметры фильтрации"}),(0,l.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e((0,n.rr)({city:"",category:"",duration:"",search:""})),className:"px-6 py-3 bg-primary-teal text-white rounded-full font-medium",children:"Сбросить фильтры"})]})]})]})]})})}},469:function(e,t,a){"use strict";a.d(t,{Lb:function(){return n},V0:function(){return i},rr:function(){return s}});let l=(0,a(6862).oM)({name:"tours",initialState:{tours:[],filteredTours:[],selectedTour:null,filters:{city:"",category:"",duration:"",search:""},loading:!1},reducers:{setTours:(e,t)=>{e.tours=t.payload,e.filteredTours=t.payload},setSelectedTour:(e,t)=>{e.selectedTour=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},filterTours:e=>{let t=[...e.tours];if(e.filters.city&&(t=t.filter(t=>t.city===e.filters.city)),e.filters.category&&(t=t.filter(t=>t.category===e.filters.category)),e.filters.search){let a=e.filters.search.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a))}e.filteredTours=t},setLoading:(e,t)=>{e.loading=t.payload}}}),{setTours:i,setSelectedTour:r,setFilters:s,filterTours:n,setLoading:c}=l.actions;t.ZP=l.reducer}},function(e){e.O(0,[513,231,173,189,169,971,23,744],function(){return e(e.s=213)}),_N_E=e.O()}]);